<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª - Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #1a365d;
      --secondary-color: #2d3748;
      --accent-color: #3182ce;
      --accent-light: #4299e1;
      --success-color: #38a169;
      --warning-color: #ed8936;
      --danger-color: #e53e3e;
      --light-bg: #f7fafc;
      --card-bg: #ffffff;
      --border-color: #e2e8f0;
      --shadow-light: 0 2px 15px rgba(0, 0, 0, 0.05);
      --shadow-medium: 0 4px 20px rgba(0, 0, 0, 0.08);
      --shadow-heavy: 0 8px 30px rgba(0, 0, 0, 0.12);
      --gradient-primary: linear-gradient(135deg, #1a365d 0%, #2d3748 100%);
      --gradient-accent: linear-gradient(135deg, #3182ce 0%, #4299e1 100%);
      --gradient-success: linear-gradient(135deg, #38a169 0%, #48bb78 100%);
    }
    
    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      padding: 20px 0;
      font-family: 'Tajawal', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--secondary-color);
      position: relative;
      overflow-x: hidden;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(49, 130, 206, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(56, 161, 105, 0.1) 0%, transparent 50%);
      z-index: -1;
    }
    
    .form-container {
      max-width: 1000px;
      margin: 30px auto;
      background: var(--card-bg);
      border-radius: 20px;
      box-shadow: var(--shadow-heavy);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      animation: fadeIn 0.8s ease-out;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .form-header {
      background: var(--gradient-primary);
      color: white;
      padding: 35px 40px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .form-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
      background-size: cover;
    }
    
    .company-logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-bottom: 25px;
      position: relative;
      z-index: 1;
    }
    
    .company-logo {
      width: 250px;
      height: 140px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.98));
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.5);
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .company-logo:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
    }
    
    .company-logo::after {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 4px;
      background: var(--gradient-accent);
    }
    
    .logo-text {
      text-align: center;
      line-height: 1.4;
      position: relative;
      z-index: 1;
    }
    
    .logo-text-arabic {
      font-size: 26px;
      font-weight: 800;
      color: var(--primary-color);
      margin-bottom: 8px;
      font-family: 'Tajawal', sans-serif;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }
    
    .logo-text-english {
      font-size: 18px;
      color: var(--accent-color);
      font-weight: 700;
      font-family: 'Tajawal', sans-serif;
      letter-spacing: 1px;
    }
    
    .form-body {
      padding: 40px;
      background: var(--light-bg);
    }
    
    .section-card {
      background: var(--card-bg);
      border-radius: 18px;
      padding: 30px;
      margin-bottom: 30px;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow-light);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .section-card:hover {
      box-shadow: var(--shadow-medium);
      transform: translateY(-3px);
    }
    
    .section-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 5px;
      height: 100%;
      background: var(--gradient-accent);
    }
    
    .section-title {
      color: var(--primary-color);
      border-bottom: 3px solid var(--accent-color);
      padding-bottom: 15px;
      margin-bottom: 25px;
      font-weight: 800;
      font-size: 1.4rem;
      position: relative;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .section-title i {
      background: var(--gradient-accent);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 4px 10px rgba(49, 130, 206, 0.3);
    }
    
    .form-control, .form-select {
      border-radius: 10px;
      padding: 14px 18px;
      border: 2px solid var(--border-color);
      transition: all 0.3s;
      font-size: 16px;
      background: white;
      color: var(--secondary-color);
      font-family: 'Tajawal', sans-serif;
    }
    
    .form-control:focus, .form-select:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 4px rgba(49, 130, 206, 0.15);
      transform: translateY(-2px);
    }
    
    .form-label {
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 10px;
      font-size: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .form-label i {
      color: var(--accent-color);
      font-size: 14px;
    }
    
    .btn-submit {
      background: var(--gradient-success);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 18px 35px;
      font-size: 18px;
      font-weight: 800;
      width: 100%;
      transition: all 0.3s;
      margin-top: 20px;
      box-shadow: 0 6px 15px rgba(56, 161, 105, 0.3);
      letter-spacing: 0.5px;
      position: relative;
      overflow: hidden;
      font-family: 'Tajawal', sans-serif;
    }
    
    .btn-submit:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(56, 161, 105, 0.4);
    }
    
    .btn-submit:active:not(:disabled) {
      transform: translateY(-1px);
    }
    
    .btn-submit::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
      z-index: 1;
    }
    
    .btn-submit:disabled {
      background: #a0aec0;
      cursor: not-allowed;
      box-shadow: none;
    }
    
    .file-upload-box {
      border: 3px dashed var(--accent-color);
      border-radius: 15px;
      padding: 30px;
      text-align: center;
      background: linear-gradient(135deg, rgba(49, 130, 206, 0.05), rgba(66, 153, 225, 0.05));
      cursor: pointer;
      margin-bottom: 25px;
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    
    .file-upload-box:hover {
      background: linear-gradient(135deg, rgba(49, 130, 206, 0.1), rgba(66, 153, 225, 0.1));
      border-color: var(--accent-light);
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(49, 130, 206, 0.15);
    }
    
    .file-upload-box i {
      margin-bottom: 20px;
      transition: transform 0.3s ease;
    }
    
    .file-upload-box:hover i {
      transform: scale(1.1);
    }
    
    .language-switcher {
      position: absolute;
      top: 25px;
      right: 25px;
      z-index: 2;
    }
    
    .lang-btn {
      background: rgba(255, 255, 255, 0.15);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      margin: 0 5px;
      transition: all 0.3s;
      font-size: 15px;
      backdrop-filter: blur(5px);
    }
    
    .lang-btn.active {
      background: rgba(255, 255, 255, 0.3);
      border-color: rgba(255, 255, 255, 0.5);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    .lang-btn:hover {
      background: rgba(255, 255, 255, 0.25);
      transform: translateY(-2px);
    }
    
    .field-note {
      font-size: 14px;
      color: #718096;
      margin-top: 8px;
      line-height: 1.6;
      padding-right: 5px;
      border-right: 2px solid #e2e8f0;
    }
    
    .required::after {
      content: " *";
      color: var(--danger-color);
      font-weight: 800;
    }
    
    .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }
    
    .action-buttons .btn {
      flex: 1;
      padding: 16px;
      font-weight: 700;
      border-radius: 10px;
      transition: all 0.3s;
      font-size: 16px;
      font-family: 'Tajawal', sans-serif;
      position: relative;
      overflow: hidden;
    }
    
    .btn-outline-primary {
      color: var(--accent-color);
      border: 2px solid var(--accent-color);
      background: transparent;
    }
    
    .btn-outline-primary:hover {
      background: var(--accent-color);
      border-color: var(--accent-color);
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(49, 130, 206, 0.3);
    }
    
    .btn-outline-secondary {
      color: #718096;
      border: 2px solid #cbd5e0;
      background: transparent;
    }
    
    .btn-outline-secondary:hover {
      background: #718096;
      border-color: #718096;
      color: white;
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(113, 128, 150, 0.3);
    }
    
    .info-alert {
      background: linear-gradient(135deg, rgba(235, 248, 255, 0.9), rgba(190, 227, 248, 0.9));
      border: none;
      border-right: 5px solid var(--accent-color);
      border-radius: 12px;
      color: var(--secondary-color);
      padding: 20px;
      box-shadow: var(--shadow-light);
      backdrop-filter: blur(5px);
    }
    
    .warning-alert {
      background: linear-gradient(135deg, rgba(254, 252, 191, 0.9), rgba(250, 240, 137, 0.9));
      border: none;
      border-right: 5px solid var(--warning-color);
      border-radius: 12px;
      color: var(--secondary-color);
      padding: 20px;
      box-shadow: var(--shadow-light);
      backdrop-filter: blur(5px);
    }
    
    .success-alert {
      background: linear-gradient(135deg, rgba(240, 255, 244, 0.95), rgba(198, 246, 213, 0.95));
      border: none;
      border-right: 5px solid var(--success-color);
      border-radius: 12px;
      color: var(--secondary-color);
      padding: 25px;
      box-shadow: var(--shadow-medium);
      animation: slideIn 0.5s ease-out;
      backdrop-filter: blur(5px);
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .error-alert {
      background: linear-gradient(135deg, rgba(254, 215, 215, 0.9), rgba(252, 129, 129, 0.9));
      border: none;
      border-right: 5px solid var(--danger-color);
      border-radius: 12px;
      color: var(--secondary-color);
      padding: 25px;
      box-shadow: var(--shadow-light);
      backdrop-filter: blur(5px);
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ±ÙˆØ¹ */
    .branches-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .branch-btn {
      background: white;
      border: 3px solid var(--border-color);
      border-radius: 12px;
      padding: 18px 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 700;
      color: var(--secondary-color);
      user-select: none;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-light);
    }
    
    .branch-btn:hover {
      border-color: var(--accent-light);
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(49, 130, 206, 0.2);
    }
    
    .branch-btn.selected {
      background: var(--gradient-accent);
      color: white;
      border-color: var(--accent-color);
      box-shadow: 0 10px 25px rgba(49, 130, 206, 0.3);
      transform: translateY(-5px);
    }
    
    .branch-btn i {
      margin-left: 8px;
      font-size: 16px;
      transition: all 0.3s;
    }
    
    .branch-btn.selected i {
      animation: bounce 0.5s;
    }
    
    @keyframes bounce {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.3);
      }
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
    .input-group {
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    .input-group-text {
      background: var(--gradient-primary);
      border: 2px solid var(--border-color);
      color: white;
      font-weight: 700;
      padding: 0 20px;
    }
    
    /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ */
    .form-footer {
      text-align: center;
      margin-top: 40px;
      padding-top: 25px;
      border-top: 2px solid var(--border-color);
      color: #718096;
      font-size: 15px;
    }
    
    .form-footer small {
      font-weight: 600;
    }
    
    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(56, 161, 105, 0.4);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(56, 161, 105, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(56, 161, 105, 0);
      }
    }
    
    /* ØªØµÙ…ÙŠÙ… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª */
    .file-info {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin-top: 15px;
      border: 2px solid var(--border-color);
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      animation: fadeInUp 0.5s ease;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 768px) {
      .form-container {
        margin: 15px;
        border-radius: 15px;
      }
      
      .form-body {
        padding: 25px;
      }
      
      .section-card {
        padding: 25px;
        margin-bottom: 25px;
      }
      
      .language-switcher {
        position: relative;
        top: 0;
        right: 0;
        text-align: center;
        margin-bottom: 20px;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .branches-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
      
      .company-logo {
        width: 200px;
        height: 120px;
        padding: 15px;
      }
      
      .logo-text-arabic {
        font-size: 22px;
      }
      
      .logo-text-english {
        font-size: 16px;
      }
      
      .form-header {
        padding: 25px 20px;
      }
      
      .section-title {
        font-size: 1.3rem;
      }
    }
    
    @media (max-width: 480px) {
      .branches-container {
        grid-template-columns: 1fr;
      }
      
      .company-logo {
        width: 180px;
        height: 110px;
      }
      
      .logo-text-arabic {
        font-size: 20px;
      }
      
      .logo-text-english {
        font-size: 14px;
      }
    }
    
    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ø·ÙŠÙØ© Ù„Ù„Ø¹Ù†Ø§ØµØ± */
    .glow {
      box-shadow: 0 0 15px rgba(49, 130, 206, 0.3);
    }
    
    /* Ø¥Ø¶Ø§ÙØ© Ø²Ø®Ø§Ø±Ù Ø®Ù„ÙÙŠØ© */
    .bg-pattern {
      position: relative;
    }
    
    .bg-pattern::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(49, 130, 206, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(56, 161, 105, 0.05) 0%, transparent 20%);
      pointer-events: none;
      z-index: 0;
    }
    
    /* ØªØµÙ…ÙŠÙ… Ø®Ø§Øµ Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© */
    .optional-field {
      border: 3px dashed #cbd5e0 !important;
    }
    
    .optional-field:hover {
      border-color: var(--warning-color) !important;
      background: linear-gradient(135deg, rgba(254, 252, 191, 0.1), rgba(250, 240, 137, 0.1)) !important;
    }
    
    .optional-text {
      color: #718096;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-container">
      <!-- Ø²Ø± ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ© -->
      <div class="language-switcher">
        <button class="lang-btn active" onclick="switchLanguage('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button class="lang-btn" onclick="switchLanguage('en')">English</button>
      </div>
      
      <!-- Ø±Ø£Ø³ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ø¹ Ø§Ù„Ø´Ø¹Ø§Ø± -->
      <div class="form-header">
        <div class="company-logo-container">
          <div class="company-logo">
            <div class="logo-text">
              <div class="logo-text-arabic">Ø´Ø±ÙƒØ© Ù…Ø³Ù€Ù€Ø§Ø± Ø§Ù„Ø§Ø¹Ù…Ù€Ù€Ø§Ø±</div>
              <div class="logo-text-english">MASSAR ALEMAR CO.</div>
            </div>
          </div>
          <h3 id="headerTitle"><i class="fas fa-user-plus"></i> Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h3>
          <p class="mb-0 mt-2" id="headerSubtitle">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>
        </div>
      </div>
      
      <!-- Ø¬Ø³Ù… Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
      <div class="form-body">
        <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ -->
        <div class="alert info-alert mb-4">
          <i class="fas fa-info-circle"></i>
          <span id="infoNote"><strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø¨Ø¹Ù„Ø§Ù…Ø© (*) Ø¥Ù„Ø²Ø§Ù…ÙŠØ©. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªÙØ­ÙØ¸ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ Google Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù….</span>
          <div class="mt-2">
            <span id="fileSizeNote"><strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ù„ÙØ§Øª:</strong> ÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø£ÙŠ Ø­Ø¬Ù… Ù…Ù„ÙØ§Øª ÙˆÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¨ØµÙŠØº JPG, PNG, Ø£Ùˆ PDF.</span>
          </div>
        </div>
        
        <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
        <form id="mainForm">
          
          <!-- Ø§Ù„Ù‚Ø³Ù… 1: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ© -->
          <div class="section-card bg-pattern">
            <h5 class="section-title"><i class="fas fa-building"></i> <span id="companyInfoTitle">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©</span></h5>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label required" id="companyNameLabel"><i class="fas fa-signature"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ / Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
                <input type="text" class="form-control" name="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ / Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„" required value="Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±">
                <div class="field-note" id="companyNameNote">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
              </div>
              <div class="col-md-6">
                <label class="form-label required" id="commercialNumberLabel"><i class="fas fa-file-contract"></i> Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</label>
                <input type="text" class="form-control" name="Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ" required>
                <div class="field-note" id="commercialNumberNote">Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ø§Ù„ØµØ§Ø¯Ø± Ù…Ù† Ø§Ù„ÙˆØ²Ø§Ø±Ø©</div>
              </div>
              
              <div class="col-md-6">
                <label class="form-label required" id="cityLabel"><i class="fas fa-city"></i> Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                <input type="text" class="form-control" name="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" required>
                <div class="field-note" id="cityNote">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ØªÙ‚Ø¹ ÙÙŠÙ‡Ø§ Ø§Ù„Ø´Ø±ÙƒØ©</div>
              </div>
              <div class="col-md-6">
                <label class="form-label required" id="addressLabel"><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                <input type="text" class="form-control" name="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" required id="addressPlaceholder" placeholder="Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø±Ù‚Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰">
                <div class="field-note" id="addressNote">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„Ø©</div>
              </div>
              
              <div class="col-md-6">
                <label class="form-label required" id="phoneLabel"><i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                <input type="tel" class="form-control" name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                <div class="field-note" id="phoneNote">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø±Ø¶ÙŠ Ù„Ù„Ø´Ø±ÙƒØ©</div>
              </div>
              <div class="col-md-6">
                <label class="form-label required" id="creditLimitLabel"><i class="fas fa-coins"></i> Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ (Ø±ÙŠØ§Ù„)</label>
                <div class="input-group">
                  <input type="number" class="form-control" name="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ" required max="80000" min="0" step="1000">
                  <span class="input-group-text">Ø±.Ø³</span>
                </div>
                <div class="field-note" id="creditLimitNote">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙƒØ­Ø¯ Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 80,000 Ø±ÙŠØ§Ù„)</div>
              </div>
              
              <div class="col-md-6">
                <label class="form-label required" id="paymentPeriodLabel"><i class="fas fa-calendar-alt"></i> ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯</label>
                <select class="form-select" name="ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯" required>
                  <option value="" selected disabled id="selectPeriodOption">Ø§Ø®ØªØ± ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯</option>
                  <option value="15 ÙŠÙˆÙ…">15 ÙŠÙˆÙ…</option>
                  <option value="30 ÙŠÙˆÙ…">30 ÙŠÙˆÙ…</option>
                  <option value="45 ÙŠÙˆÙ…">45 ÙŠÙˆÙ…</option>
                </select>
              </div>
              
              <div class="col-md-12">
                <label class="form-label required" id="branchesLabel"><i class="fas fa-code-branch"></i> Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§</label>
                <div class="branches-container" id="branchesContainer">
                  <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
                <div class="field-note" id="branchesNote">Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø£ÙƒØ«Ø± Ù…Ù† ÙØ±Ø¹)</div>
              </div>
            </div>
          </div>
          
          <!-- Ø§Ù„Ù‚Ø³Ù… 2: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ -->
          <div class="section-card bg-pattern">
            <h5 class="section-title"><i class="fas fa-user-tie"></i> <span id="responsibleInfoTitle">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</span></h5>
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label required" id="responsibleNameLabel"><i class="fas fa-user"></i> Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                <input type="text" class="form-control" name="Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„" required>
                <div class="field-note" id="responsibleNameNote">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</div>
              </div>
              <div class="col-md-6">
                <label class="form-label required" id="nationalityLabel"><i class="fas fa-globe"></i> Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                <input type="text" class="form-control" name="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©" required placeholder="Ù…Ø«Ø§Ù„: Ø³Ø¹ÙˆØ¯ÙŠ">
                <div class="field-note" id="nationalityNote">Ø¬Ù†Ø³ÙŠØ© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</div>
              </div>
              
              <div class="col-md-6">
                <label class="form-label required" id="idNumberLabel"><i class="fas fa-id-card"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                <input type="text" class="form-control" name="Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø§Ù‚Ø§Ù…Ø©" required>
                <div class="field-note" id="idNumberNote">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</div>
              </div>
              <div class="col-md-6">
                <label class="form-label required" id="mobileLabel"><i class="fas fa-mobile-alt"></i> Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                <div class="input-group">
                  <span class="input-group-text">+966</span>
                  <input type="tel" class="form-control" name="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„" required>
                </div>
                <div class="field-note" id="mobileNote">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</div>
              </div>
            </div>
          </div>
          
          <!-- Ø§Ù„Ù‚Ø³Ù… 3: Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© -->
          <div class="section-card bg-pattern">
            <h5 class="section-title"><i class="fas fa-file-upload"></i> <span id="documentsTitle">Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</span></h5>
            
            <div class="alert warning-alert mb-4">
              <i class="fas fa-exclamation-triangle"></i>
              <span id="fileWarningNote"><strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> ÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø£ÙŠ Ø­Ø¬Ù… Ù…Ù„ÙØ§Øª. Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ© ØªÙ‚Ø¨Ù„ ØµÙŠØº JPG, PNG, PDF. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¬Ø¨Ø§Ø±ÙŠØ©.</span>
            </div>
            
            <!-- Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 1 -->
            <div class="file-upload-box" onclick="document.getElementById('taxCertificate').click()">
              <i class="fas fa-file-invoice fa-3x mb-3" style="color: var(--accent-color);"></i>
              <h5 class="required" id="taxCertificateLabel">ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©</h5>
              <p class="text-muted mb-2" id="taxCertificateNote">Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© (PDF, JPG, PNG)</p>
              <input type="file" class="d-none" id="taxCertificate" accept=".pdf,.jpg,.jpeg,.png" required>
              <div id="taxFileInfo" class="mt-2"></div>
            </div>
            
            <!-- Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 2 -->
            <div class="file-upload-box" onclick="document.getElementById('commercialRegister').click()">
              <i class="fas fa-file-alt fa-3x mb-3" style="color: var(--accent-color);"></i>
              <h5 class="required" id="commercialRegisterLabel">ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</h5>
              <p class="text-muted mb-2" id="commercialRegisterNote">Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ (PDF, JPG, PNG)</p>
              <input type="file" class="d-none" id="commercialRegister" accept=".pdf,.jpg,.jpeg,.png" required>
              <div id="commercialFileInfo" class="mt-2"></div>
            </div>
            
            <!-- Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 3 -->
            <div class="file-upload-box" onclick="document.getElementById('idPhoto').click()">
              <i class="fas fa-id-card fa-3x mb-3" style="color: var(--accent-color);"></i>
              <h5 class="required" id="idPhotoLabel">ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…ÙÙˆØ¶ Ø£Ùˆ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</h5>
              <p class="text-muted mb-2" id="idPhotoNote">Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø£Ùˆ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© (JPG, PNG, PDF)</p>
              <input type="file" class="d-none" id="idPhoto" accept=".jpg,.jpeg,.png,.pdf" required>
              <div id="idFileInfo" class="mt-2"></div>
            </div>
            
            <!-- Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 4 (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
            <div class="file-upload-box optional-field" onclick="document.getElementById('otherDocuments').click()">
              <i class="fas fa-file-upload fa-3x mb-3" style="color: #718096;"></i>
              <h5 id="otherDocumentsLabel">Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</h5>
              <p class="text-muted mb-2 optional-text" id="otherDocumentsNote">Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø«Ù„: Ø¹Ù‚Ø¯ ØªØ£Ø³ÙŠØ³ØŒ ØªØ±Ø®ÙŠØµØŒ Ø¥Ù„Ø® (PDF, JPG, PNG)</p>
              <input type="file" class="d-none" id="otherDocuments" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
              <div id="otherFileInfo" class="mt-2"></div>
            </div>
          </div>
          
          <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª -->
          <div class="action-buttons">
            <button type="submit" class="btn btn-submit pulse" id="submitBtn">
              <i class="fas fa-paper-plane"></i> <span id="submitBtnText">Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨</span>
            </button>
            <button type="button" class="btn btn-outline-secondary" onclick="resetForm()" id="clearFormBtn">
              <i class="fas fa-redo"></i> <span id="clearFormBtnText">Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</span>
            </button>
          </div>
          
        </form>
        
        <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
        <div class="alert success-alert mt-4 d-none" id="successAlert">
          <h4><i class="fas fa-check-circle"></i> <span id="successTitle">ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!</span></h4>
          <div id="successMessage">
            <p id="successMessageText">ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±</p>
            <p id="autoResetNote">Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø®Ù„Ø§Ù„ 10 Ø«ÙˆØ§Ù†Ù.</p>
          </div>
          <div class="mt-3">
            <button class="btn btn-outline-success" onclick="resetForm()">
              <i class="fas fa-plus"></i> <span id="newRequestBtnText">ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</span>
            </button>
          </div>
        </div>
        
        <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ -->
        <div class="alert error-alert mt-4 d-none" id="errorAlert">
          <h4><i class="fas fa-times-circle"></i> <span id="errorTitle">Ø­Ø¯Ø« Ø®Ø·Ø£!</span></h4>
          <p id="errorMessageText">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</p>
          <button class="btn btn-outline-danger" onclick="retrySubmit()">
            <i class="fas fa-redo"></i> <span id="retryBtnText">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</span>
          </button>
        </div>
        
        <!-- ØªØ°ÙŠÙŠÙ„ -->
        <div class="form-footer">
          <small id="footerText">Â© 2024 Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø± - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</small>
          <div class="mt-2">
            <small>Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <script>
    // â­ Ø±Ø§Ø¨Ø· Web App Ø§Ù„Ø¬Ø¯ÙŠØ¯
    let scriptURL = "https://script.google.com/macros/s/AKfycby6wGPas50PiLwe4sLMlyx9jnUKQWBej4ec4aZDac_mrOLEBEDF1MNB7Y12O3_dekdv/exec";
    
    // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let isSubmitting = false;
    let uploadedFiles = {};
    let currentLanguage = 'ar';
    let autoResetTimer = null;
    let selectedBranches = [];
    
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹ - Ø®Ù…Ø³Ø© ÙØ±ÙˆØ¹ Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
    const branchesData = {
      'ar': ['ÙŠÙ†Ø¨Ø¹', 'Ø§Ù…Ù„Ø¬', 'Ø¶Ø¨Ø§Ø¡', 'Ø­Ù‚Ù„', 'Ø§Ù„ÙˆØ¬Ù‡'],
      'en': ['Yanbu', 'Amluj', 'Duba', 'Haql', 'Alwajh']
    };
    
    // ========== ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¬ÙˆØ§Ù„ ==========
    const isMobileDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    // Ù†ØµÙˆØµ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    const arabicTexts = {
      headerTitle: "Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª",
      headerSubtitle: "Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
      infoNote: "<strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø¨Ø¹Ù„Ø§Ù…Ø© (*) Ø¥Ù„Ø²Ø§Ù…ÙŠØ©. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªÙØ­ÙØ¸ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ø¬Ø¯ÙˆÙ„ Google Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù….",
      fileSizeNote: "<strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ù„ÙØ§Øª:</strong> ÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø£ÙŠ Ø­Ø¬Ù… Ù…Ù„ÙØ§Øª ÙˆÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¨ØµÙŠØº JPG, PNG, Ø£Ùˆ PDF.",
      fileWarningNote: "<strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> ÙŠÙ…ÙƒÙ† Ø±ÙØ¹ Ø£ÙŠ Ø­Ø¬Ù… Ù…Ù„ÙØ§Øª. Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø®ØµÙŠØ© ØªÙ‚Ø¨Ù„ ØµÙŠØº JPG, PNG, PDF. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¬Ø¨Ø§Ø±ÙŠØ©.",
      companyInfoTitle: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©",
      companyNameLabel: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ / Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„",
      companyNameNote: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„Ø´Ø±ÙƒØ© Ø£Ùˆ Ø§Ù„Ø¹Ù…ÙŠÙ„",
      commercialNumberLabel: "Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ",
      commercialNumberNote: "Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ø§Ù„ØµØ§Ø¯Ø± Ù…Ù† Ø§Ù„ÙˆØ²Ø§Ø±Ø©",
      cityLabel: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",
      cityNote: "Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ØªÙ‚Ø¹ ÙÙŠÙ‡Ø§ Ø§Ù„Ø´Ø±ÙƒØ©",
      addressLabel: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ",
      addressPlaceholder: "Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø±Ù‚Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰",
      addressNote: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„Ø©",
      phoneLabel: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
      phoneNote: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø±Ø¶ÙŠ Ù„Ù„Ø´Ø±ÙƒØ©",
      creditLimitLabel: "Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ (Ø±ÙŠØ§Ù„)",
      creditLimitNote: "Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙƒØ­Ø¯ Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 80,000 Ø±ÙŠØ§Ù„)",
      paymentPeriodLabel: "ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯",
      selectPeriodOption: "Ø§Ø®ØªØ± ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯",
      branchesLabel: "Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§",
      branchesNote: "Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø£ÙƒØ«Ø± Ù…Ù† ÙØ±Ø¹)",
      responsibleInfoTitle: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",
      responsibleNameLabel: "Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",
      responsibleNameNote: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",
      nationalityLabel: "Ø§Ù„Ø¬Ù†Ø³ÙŠØ©",
      nationalityNote: "Ø¬Ù†Ø³ÙŠØ© Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",
      idNumberLabel: "Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©",
      idNumberNote: "Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ø£Ùˆ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©",
      mobileLabel: "Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„",
      mobileNote: "Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„",
      documentsTitle: "Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",
      taxCertificateLabel: "ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©",
      taxCertificateNote: "Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ© (PDF, JPG, PNG)",
      commercialRegisterLabel: "ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ",
      commercialRegisterNote: "Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ (PDF, JPG, PNG)",
      idPhotoLabel: "ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…ÙÙˆØ¶ Ø£Ùˆ ØµÙˆØ±Ø© Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©",
      idPhotoNote: "Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ø£Ùˆ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© (JPG, PNG, PDF)",
      otherDocumentsLabel: "Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
      otherDocumentsNote: "Ø§Ù†Ù‚Ø± Ù„Ø±ÙØ¹ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø«Ù„: Ø¹Ù‚Ø¯ ØªØ£Ø³ÙŠØ³ØŒ ØªØ±Ø®ÙŠØµØŒ Ø¥Ù„Ø® (PDF, JPG, PNG)",
      submitBtnText: "Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨",
      clearFormBtnText: "Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",
      successTitle: "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!",
      successMessageText: "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ Ø¨Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±",
      autoResetNote: "Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø®Ù„Ø§Ù„ 10 Ø«ÙˆØ§Ù†Ù.",
      newRequestBtnText: "ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯",
      errorTitle: "Ø­Ø¯Ø« Ø®Ø·Ø£!",
      errorMessageText: "ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
      retryBtnText: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©",
      footerText: "Â© 2024 Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø± - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©"
    };
    
    // Ù†ØµÙˆØµ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    const englishTexts = {
      headerTitle: "Account Opening Request System",
      headerSubtitle: "Version 2.0 | Integrated Customer Request Management System",
      infoNote: "<strong>Note:</strong> All fields marked with (*) are mandatory. Data will be saved directly in the Google Sheet system.",
      fileSizeNote: "<strong>File Note:</strong> Any file size can be uploaded. Personal photos accept JPG, PNG, or PDF formats.",
      fileWarningNote: "<strong>Warning:</strong> Any file size can be uploaded. Personal photos accept JPG, PNG, PDF formats. All documents are mandatory.",
      companyInfoTitle: "Company Information",
      companyNameLabel: "Trade Name / Customer Name",
      companyNameNote: "Official company or customer name",
      commercialNumberLabel: "Commercial Registration Number",
      commercialNumberNote: "Commercial registration number issued by the Ministry",
      cityLabel: "City",
      cityNote: "Name of the city where the company is located",
      addressLabel: "Detailed Address",
      addressPlaceholder: "District - Street - Building Number",
      addressNote: "Complete address details",
      phoneLabel: "Phone Number",
      phoneNote: "Company landline number",
      creditLimitLabel: "Credit Limit (SAR)",
      creditLimitNote: "Required credit limit amount (maximum 80,000 SAR)",
      paymentPeriodLabel: "Payment Period",
      selectPeriodOption: "Select Payment Period",
      branchesLabel: "Branches to Deal With",
      branchesNote: "Click to select required branches (you can select multiple branches)",
      responsibleInfoTitle: "Responsible Person Information",
      responsibleNameLabel: "Responsible Person Name",
      responsibleNameNote: "Full name of the responsible person",
      nationalityLabel: "Nationality",
      nationalityNote: "Nationality of the responsible person",
      idNumberLabel: "ID Number / Residence",
      idNumberNote: "National ID number or residence card",
      mobileLabel: "Mobile Number",
      mobileNote: "Responsible person's mobile number",
      documentsTitle: "Required Documents",
      taxCertificateLabel: "Tax Certificate Copy",
      taxCertificateNote: "Click to upload tax certificate (PDF, JPG, PNG)",
      commercialRegisterLabel: "Commercial Register Copy",
      commercialRegisterNote: "Click to upload commercial register (PDF, JPG, PNG)",
      idPhotoLabel: "Authorized Person Photo or Residence Copy",
      idPhotoNote: "Click to upload ID or residence photo (JPG, PNG, PDF)",
      otherDocumentsLabel: "Additional Documents (Optional)",
      otherDocumentsNote: "Click to upload additional documents like: establishment contract, license, etc. (PDF, JPG, PNG)",
      submitBtnText: "Submit Account Opening Request",
      clearFormBtnText: "Clear Form",
      successTitle: "Request Saved Successfully!",
      successMessageText: "Request saved successfully, thank you for trusting Massar Al Emar Company",
      autoResetNote: "The form will be cleared automatically in 10 seconds.",
      newRequestBtnText: "Submit New Request",
      errorTitle: "Error Occurred!",
      errorMessageText: "Please try again",
      retryBtnText: "Try Again",
      footerText: "Â© 2024 Massar Al Emar Company - All Rights Reserved"
    };
    
    // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', function() {
      // Ø¥Ø¶Ø§ÙØ© ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø¬ÙˆØ§Ù„
      if (isMobileDevice) {
        console.log("ğŸ“± ØªÙ… ØªØ´ØºÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„ØªØ­Ø³ÙŠÙ† Ù„Ù„Ø¬ÙˆØ§Ù„");
        
        // ØªØ­Ø¯ÙŠØ« Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ù„Ø¬ÙˆØ§Ù„
        const fileSizeNote = document.getElementById('fileSizeNote');
        if (fileSizeNote) {
          fileSizeNote.innerHTML = currentLanguage === 'ar' 
            ? '<strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ù…Ù„ÙØ§Øª:</strong> ÙŠÙØ¶Ù„ Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¨Ø­Ø¬Ù… Ø£Ù‚Ù„ Ù…Ù† 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„.'
            : '<strong>File Note:</strong> It is preferred to upload files less than 5MB for best mobile experience.';
        }
        
        // Ø¥Ø¶Ø§ÙØ© CSS Ø®Ø§Øµ Ù„Ù„Ø¬ÙˆØ§Ù„
        const mobileCSS = `
          /* ØªØ­Ø³ÙŠÙ†Ø§Øª CSS Ù„Ù„Ø¬ÙˆØ§Ù„ */
          .file-upload-box {
            padding: 20px 15px;
            margin-bottom: 20px;
          }
          
          .file-upload-box i {
            font-size: 2em !important;
          }
          
          .form-control, .form-select {
            padding: 16px 14px;
            font-size: 16px;
          }
          
          input, select, textarea {
            font-size: 16px !important;
          }
          
          .section-card {
            padding: 20px 15px;
          }
          
          .btn-submit {
            padding: 20px 15px;
            font-size: 17px;
          }
          
          .swal2-popup {
            width: 90% !important;
            max-width: 400px !important;
            border-radius: 15px !important;
          }
          
          .swal2-title {
            font-size: 20px !important;
          }
          
          .swal2-content {
            font-size: 16px !important;
          }
          
          .progress-bar {
            transition: width 0.3s ease !important;
          }
          
          * {
            -webkit-tap-highlight-color: transparent;
          }
          
          .file-upload-box, .branch-btn, .btn {
            user-select: none;
            -webkit-user-select: none;
          }
        `;
        
        const style = document.createElement('style');
        style.textContent = mobileCSS;
        document.head.appendChild(style);
      }
      
      setupFileUploads();
      setupFormSubmit();
      setupBranchesSelection();
      enhanceMobilePerformance();
      preventMobileIssues();
      
      // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      switchLanguage('ar');
      
      // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ©
      setTimeout(() => {
        Swal.fire({
          title: currentLanguage === 'ar' ? 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±' : 'Welcome to Massar Al Emar Company',
          text: currentLanguage === 'ar' ? 'Ù†Ø¸Ø§Ù… Ø·Ù„Ø¨Ø§Øª ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Electronic Account Opening Request System',
          icon: 'info',
          timer: 2500,
          showConfirmButton: false,
          background: 'var(--light-bg)',
          color: 'var(--secondary-color)'
        });
      }, 800);
    });
    
    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
    function switchLanguage(lang) {
      currentLanguage = lang;
      
      // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ©
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.querySelector(`button[onclick="switchLanguage('${lang}')"]`).classList.add('active');
      
      // ØªØ­Ø¯ÙŠØ« Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©
      document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
      document.documentElement.lang = lang;
      
      // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØµÙˆØµ
      const texts = lang === 'ar' ? arabicTexts : englishTexts;
      for (const [key, value] of Object.entries(texts)) {
        const element = document.getElementById(key);
        if (element) {
          if (key === 'addressPlaceholder') {
            element.placeholder = value;
          } else if (key === 'infoNote' || key === 'fileSizeNote' || key === 'fileWarningNote') {
            element.innerHTML = value;
          } else {
            element.textContent = value;
          }
        }
      }
      
      // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯
      updatePaymentPeriodOptions(lang);
      
      // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ±ÙˆØ¹
      updateBranchesButtons();
    }
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø²Ø±Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙˆØ¹
    function setupBranchesSelection() {
      updateBranchesButtons();
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ±ÙˆØ¹
    function updateBranchesButtons() {
      const container = document.getElementById('branchesContainer');
      container.innerHTML = '';
      
      branchesData[currentLanguage].forEach(branch => {
        const branchBtn = document.createElement('div');
        branchBtn.className = `branch-btn ${selectedBranches.includes(branch) ? 'selected' : ''}`;
        branchBtn.innerHTML = `
          <i class="fas fa-${selectedBranches.includes(branch) ? 'check-circle' : 'building'}"></i>
          ${branch}
        `;
        
        branchBtn.onclick = function() {
          toggleBranchSelection(branch, branchBtn);
        };
        
        container.appendChild(branchBtn);
      });
    }
    
    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±Ø¹
    function toggleBranchSelection(branch, button) {
      const index = selectedBranches.indexOf(branch);
      
      if (index === -1) {
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±Ø¹ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø®ØªØ§Ø±Ø§Ù‹
        selectedBranches.push(branch);
        button.classList.add('selected');
        button.innerHTML = `<i class="fas fa-check-circle"></i> ${branch}`;
      } else {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙØ±Ø¹ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø®ØªØ§Ø±Ø§Ù‹
        selectedBranches.splice(index, 1);
        button.classList.remove('selected');
        button.innerHTML = `<i class="fas fa-building"></i> ${branch}`;
      }
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø®ÙŠØ§Ø±Ø§Øª ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯
    function updatePaymentPeriodOptions(lang) {
      const selectElement = document.querySelector('select[name="ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯"]');
      const currentValue = selectElement.value;
      
      const periodOptions = {
        'ar': {
          '': lang === 'ar' ? 'Ø§Ø®ØªØ± ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯' : 'Select Payment Period',
          '15 ÙŠÙˆÙ…': '15 ÙŠÙˆÙ…',
          '30 ÙŠÙˆÙ…': '30 ÙŠÙˆÙ…', 
          '45 ÙŠÙˆÙ…': '45 ÙŠÙˆÙ…'
        },
        'en': {
          '': 'Select Payment Period',
          '15 ÙŠÙˆÙ…': '15 Days',
          '30 ÙŠÙˆÙ…': '30 Days',
          '45 ÙŠÙˆÙ…': '45 Days'
        }
      };
      
      const options = periodOptions[lang];
      selectElement.innerHTML = '';
      
      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
      for (const [value, text] of Object.entries(options)) {
        const option = document.createElement('option');
        option.value = value;
        option.textContent = text;
        if (value === '') {
          option.disabled = true;
          option.selected = true;
        } else if (value === currentValue) {
          option.selected = true;
        }
        selectElement.appendChild(option);
      }
    }
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
    function setupFileUploads() {
      // Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 1: Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©
      document.getElementById('taxCertificate').addEventListener('change', function(e) {
        if (isMobileDevice) {
          handleMobileFileUpload(this, 'taxFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©' : 'Tax Certificate Copy', true);
        } else {
          handleFileUpload(this, 'taxFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©' : 'Tax Certificate Copy', true);
        }
      });
      
      // Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 2: Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ
      document.getElementById('commercialRegister').addEventListener('change', function(e) {
        if (isMobileDevice) {
          handleMobileFileUpload(this, 'commercialFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ' : 'Commercial Register Copy', true);
        } else {
          handleFileUpload(this, 'commercialFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ' : 'Commercial Register Copy', true);
        }
      });
      
      // Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 3: ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ©
      document.getElementById('idPhoto').addEventListener('change', function(e) {
        if (isMobileDevice) {
          handleMobileFileUpload(this, 'idFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…ÙÙˆØ¶ Ø§Ùˆ ØµÙˆØ±Ø© Ø§Ù„Ø§Ù‚Ø§Ù…Ø©' : 'Authorized Person Photo or Residence Copy', true);
        } else {
          handleFileUpload(this, 'idFileInfo', currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…ÙÙˆØ¶ Ø§Ùˆ ØµÙˆØ±Ø© Ø§Ù„Ø§Ù‚Ø§Ù…Ø©' : 'Authorized Person Photo or Residence Copy', true);
        }
      });
      
      // Ø§Ù„Ù…Ø³ØªÙ†Ø¯ 4: Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
      document.getElementById('otherDocuments').addEventListener('change', function(e) {
        if (isMobileDevice) {
          handleMobileFileUpload(this, 'otherFileInfo', currentLanguage === 'ar' ? 'Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©' : 'Additional Documents', false);
        } else {
          handleFileUpload(this, 'otherFileInfo', currentLanguage === 'ar' ? 'Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©' : 'Additional Documents', false);
        }
      });
    }
    
    // Ø¯Ø§Ù„Ø© Ø¶ØºØ· Ø§Ù„ØµÙˆØ± Ù„Ù„Ø¬ÙˆØ§Ù„
    function compressImageForMobile(file, maxWidth = 1200, quality = 0.8) {
      return new Promise((resolve, reject) => {
        if (!file.type.startsWith('image/') || file.size < 1024 * 1024) {
          resolve(file);
          return;
        }
        
        const reader = new FileReader();
        reader.readAsDataURL(file);
        
        reader.onload = function(event) {
          const img = new Image();
          img.src = event.target.result;
          
          img.onload = function() {
            const canvas = document.createElement('canvas');
            
            let width = img.width;
            let height = img.height;
            const maxHeight = 1200;
            
            if (width > maxWidth || height > maxHeight) {
              if (width > height) {
                height = Math.round((height * maxWidth) / width);
                width = maxWidth;
              } else {
                width = Math.round((width * maxHeight) / height);
                height = maxHeight;
              }
            }
            
            canvas.width = width;
            canvas.height = height;
            
            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, width, height);
            
            canvas.toBlob(
              (blob) => {
                if (!blob) {
                  resolve(file);
                  return;
                }
                
                const compressedFile = new File([blob], file.name, {
                  type: 'image/jpeg',
                  lastModified: Date.now(),
                });
                
                resolve(compressedFile);
              },
              'image/jpeg',
              quality
            );
          };
          
          img.onerror = function() {
            resolve(file);
          };
        };
        
        reader.onerror = function() {
          resolve(file);
        };
      });
    }
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
    async function handleMobileFileUpload(input, infoDivId, fieldName, isRequired = true) {
      const file = input.files[0];
      if (!file) return;
      
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ù„Ù„Ø¬ÙˆØ§Ù„
      if (isMobileDevice && file.size > 5 * 1024 * 1024) {
        Swal.fire({
          icon: 'warning',
          title: currentLanguage === 'ar' ? 'Ø­Ø¬Ù… Ù…Ù„Ù ÙƒØ¨ÙŠØ±' : 'Large File Size',
          text: currentLanguage === 'ar' 
            ? 'Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ù‹Ø§ Ù„Ù„Ø¬ÙˆØ§Ù„. ÙŠÙØ¶Ù„ Ø±ÙØ¹ Ù…Ù„Ù Ø¨Ø­Ø¬Ù… Ø£Ù‚Ù„ Ù…Ù† 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª.'
            : 'File size is too large for mobile. Prefer files under 5MB.',
          confirmButtonText: currentLanguage === 'ar' ? 'Ø­Ø³Ù†Ø§Ù‹' : 'OK',
          background: 'var(--light-bg)',
          color: 'var(--secondary-color)'
        });
        input.value = '';
        return;
      }
      
      // Ø¥Ø¸Ù‡Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø®Ø§Øµ Ù„Ù„Ø¬ÙˆØ§Ù„
      const loadingHTML = `
        <div class="file-info">
          <div class="d-flex align-items-center">
            <i class="fas fa-mobile-alt fa-spin text-primary me-3"></i>
            <div>
              <strong>${currentLanguage === 'ar' ? 'Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ù Ù„Ù„Ø¬ÙˆØ§Ù„...' : 'Processing file for mobile...'}</strong>
              <div class="text-muted">${currentLanguage === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±' : 'Please wait'}</div>
              <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 70%"></div>
              </div>
            </div>
          </div>
        </div>
      `;
      
      document.getElementById(infoDivId).innerHTML = loadingHTML;
      
      try {
        let processedFile = file;
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆÙƒØ§Ù†Øª ØµÙˆØ±Ø©ØŒ Ù†Ù‚ÙˆÙ… Ø¨Ø¶ØºØ·Ù‡Ø§
        if (isMobileDevice && file.type.startsWith('image/')) {
          processedFile = await compressImageForMobile(file, 1200, 0.8);
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
        const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
        if (!allowedTypes.includes(processedFile.type)) {
          throw new Error('Ù†ÙˆØ¹ Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
        uploadedFiles[fieldName] = processedFile;
        
        // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù
        const fileSize = (processedFile.size / (1024*1024)).toFixed(2);
        const fileName = processedFile.name.length > 25 ? processedFile.name.substring(0, 25) + '...' : processedFile.name;
        
        document.getElementById(infoDivId).innerHTML = `
          <div class="file-info">
            <div class="d-flex align-items-center justify-content-between">
              <div class="d-flex align-items-center">
                <i class="fas ${processedFile.type === 'application/pdf' ? 'fa-file-pdf text-danger' : 
                  processedFile.type.includes('word') ? 'fa-file-word text-primary' : 
                  'fa-file-image text-success'} me-3 fs-4"></i>
                <div>
                  <strong>${fileName}</strong>
                  <div class="text-muted">${fileSize} MB ${isMobileDevice && processedFile !== file ? '<span class="text-success">(Ù…Ø¶ØºÙˆØ· Ù„Ù„Ø¬ÙˆØ§Ù„)</span>' : ''}</div>
                  ${!isRequired ? '<div class="text-info"><small><i class="fas fa-info-circle"></i> Ù…Ù„Ù Ø§Ø®ØªÙŠØ§Ø±ÙŠ</small></div>' : ''}
                </div>
              </div>
              <i class="fas fa-check-circle text-success fs-5"></i>
            </div>
          </div>
        `;
        
        // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ø®ÙÙŠÙØ© Ù„Ù„Ø¬ÙˆØ§Ù„
        Swal.fire({
          icon: 'success',
          title: currentLanguage === 'ar' ? 'ØªÙ…!' : 'Done!',
          text: currentLanguage === 'ar' ? 'ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­' : 'File uploaded successfully',
          toast: true,
          position: 'top-end',
          showConfirmButton: false,
          timer: 1500,
          timerProgressBar: true
        });
        
      } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ù Ù„Ù„Ø¬ÙˆØ§Ù„:', error);
        
        Swal.fire({
          icon: 'error',
          title: currentLanguage === 'ar' ? 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©' : 'Processing Error',
          text: currentLanguage === 'ar' 
            ? 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ù. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.'
            : 'An error occurred while processing the file. Please try again.',
          confirmButtonText: currentLanguage === 'ar' ? 'Ø­Ø³Ù†Ø§Ù‹' : 'OK',
          background: 'var(--light-bg)',
          color: 'var(--secondary-color)'
        });
        
        input.value = '';
        document.getElementById(infoDivId).innerHTML = '';
      }
    }
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù (Ù„Ù„Ø­Ø§Ø³ÙˆØ¨)
    function handleFileUpload(input, infoDivId, fieldName, isRequired = true) {
      const file = input.files[0];
      if (!file) return;
      
      // Ø¥Ø¸Ù‡Ø§Ø± ØªØ­Ù…ÙŠÙ„
      const loadingHTML = `
        <div class="file-info">
          <div class="d-flex align-items-center">
            <i class="fas fa-spinner fa-spin text-primary me-3"></i>
            <div>
              <strong>Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù...</strong>
              <div class="text-muted">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</div>
            </div>
          </div>
        </div>
      `;
      
      document.getElementById(infoDivId).innerHTML = loadingHTML;
      
      // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ£Ø®ÙŠØ± Ù„Ù„ØªØ­Ù…ÙŠÙ„
      setTimeout(() => {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ÙÙ‚Ø·
        const allowedTypes = ['image/jpeg', 'image/png', 'image/jpg', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
        if (!allowedTypes.includes(file.type)) {
          Swal.fire({
            icon: 'error',
            title: currentLanguage === 'ar' ? 'Ù†ÙˆØ¹ Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…' : 'Unsupported File Type',
            text: currentLanguage === 'ar' ? 
              'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø±ÙØ¹ Ù…Ù„Ù Ø¨ØµÙŠØºØ© JPG, PNG, PDF, Ø£Ùˆ Word ÙÙ‚Ø·' : 
              'Please upload a file in JPG, PNG, PDF, or Word format only',
            confirmButtonText: currentLanguage === 'ar' ? 'Ø­Ø³Ù†Ø§Ù‹' : 'OK',
            background: 'var(--light-bg)',
            color: 'var(--secondary-color)'
          });
          input.value = '';
          document.getElementById(infoDivId).innerHTML = '';
          return;
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
        uploadedFiles[fieldName] = file;
        
        // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù
        const fileSize = (file.size / (1024*1024)).toFixed(2);
        const fileName = file.name.length > 30 ? file.name.substring(0, 30) + '...' : file.name;
        
        document.getElementById(infoDivId).innerHTML = `
          <div class="file-info">
            <div class="d-flex align-items-center justify-content-between">
              <div class="d-flex align-items-center">
                <i class="fas ${file.type === 'application/pdf' ? 'fa-file-pdf text-danger' : 
                  file.type.includes('word') ? 'fa-file-word text-primary' : 
                  'fa-file-image text-primary'} me-3 fs-4"></i>
                <div>
                  <strong>${fileName}</strong>
                  <div class="text-muted">${fileSize} MB</div>
                  ${!isRequired ? '<div class="text-info"><small><i class="fas fa-info-circle"></i> Ù…Ù„Ù Ø§Ø®ØªÙŠØ§Ø±ÙŠ</small></div>' : ''}
                </div>
              </div>
              <i class="fas fa-check-circle text-success fs-5"></i>
            </div>
          </div>
        `;
        
        // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
        Swal.fire({
          icon: 'success',
          title: currentLanguage === 'ar' ? 'ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù' : 'File Uploaded',
          text: currentLanguage === 'ar' ? 
            `ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­` : 
            `File uploaded successfully`,
          timer: 1500,
          showConfirmButton: false,
          background: 'var(--light-bg)',
          color: 'var(--secondary-color)'
        });
      }, 800);
    }
    
    // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„Ø¬ÙˆØ§Ù„
    function enhanceMobilePerformance() {
      if (!isMobileDevice) return;
      
      // Ù…Ù†Ø¹ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
      document.addEventListener('touchstart', function(e) {
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'TEXTAREA') {
          e.target.style.transform = 'scale(0.98)';
          setTimeout(() => {
            e.target.style.transform = 'scale(1)';
          }, 150);
        }
      }, { passive: true });
      
      // ØªØ­Ø³ÙŠÙ† Ø¹Ø±Ø¶ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
      document.addEventListener('focusin', function(e) {
        if (window.innerWidth <= 768) {
          setTimeout(() => {
            e.target.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 300);
        }
      });
    }
    
    // Ù…Ù†Ø¹ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„
    function preventMobileIssues() {
      // Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø£ÙÙ‚ÙŠ ØºÙŠØ± Ø§Ù„Ù…Ø±ØºÙˆØ¨ ÙÙŠÙ‡
      document.body.addEventListener('touchmove', function(e) {
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'SELECT' || e.target.tagName === 'TEXTAREA') {
          return;
        }
        
        if (e.touches.length > 1) {
          e.preventDefault();
        }
      }, { passive: false });
      
      // Ù…Ù†Ø¹ ØªÙƒØ¨ÙŠØ± Ø§Ù„ØµÙØ­Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„
      document.addEventListener('gesturestart', function(e) {
        e.preventDefault();
      });
    }
    
    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    function setupFormSubmit() {
      const form = document.getElementById('mainForm');
      const submitBtn = document.getElementById('submitBtn');
      
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (isSubmitting) return;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
        const requiredFiles = [
          currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©' : 'Tax Certificate Copy',
          currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ' : 'Commercial Register Copy',
          currentLanguage === 'ar' ? 'ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© Ù„Ù„Ù…ÙÙˆØ¶ Ø§Ùˆ ØµÙˆØ±Ø© Ø§Ù„Ø§Ù‚Ø§Ù…Ø©' : 'Authorized Person Photo or Residence Copy'
        ];
        
        let missingFiles = [];
        requiredFiles.forEach(fileField => {
          if (!uploadedFiles[fileField]) {
            missingFiles.push(fileField);
          }
        });
        
        if (missingFiles.length > 0) {
          Swal.fire({
            icon: 'warning',
            title: currentLanguage === 'ar' ? 'Ù…Ù„ÙØ§Øª Ù†Ø§Ù‚ØµØ©' : 'Missing Files',
            text: currentLanguage === 'ar' ? 
              `ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©: ${missingFiles.join('ØŒ ')}` :
              `Please upload the following files: ${missingFiles.join(', ')}`,
            confirmButtonText: currentLanguage === 'ar' ? 'Ø­Ø³Ù†Ø§Ù‹' : 'OK',
            background: 'var(--light-bg)',
            color: 'var(--secondary-color)'
          });
          return;
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± ÙØ±Ø¹ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„
        if (selectedBranches.length === 0) {
          Swal.fire({
            icon: 'warning',
            title: currentLanguage === 'ar' ? 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙˆØ¹' : 'Branches Selection',
            text: currentLanguage === 'ar' ? 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙØ±Ø¹ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„' : 'Please select at least one branch',
            confirmButtonText: currentLanguage === 'ar' ? 'Ø­Ø³Ù†Ø§Ù‹' : 'OK',
            background: 'var(--light-bg)',
            color: 'var(--secondary-color)'
          });
          return;
        }
        
        // Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        isSubmitting = true;
        submitBtn.disabled = true;
        submitBtn.innerHTML = currentLanguage === 'ar' ? 
          '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...' : 
          '<i class="fas fa-spinner fa-spin"></i> Saving Data...';
        
        try {
          // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©
          const formData = new FormData(form);
          const textData = {};
          
          for (let [key, value] of formData.entries()) {
            textData[key] = value;
          }
          
          // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
          textData["Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§"] = selectedBranches.join('ØŒ ');
          
          // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¥Ù„Ù‰ Base64
          for (const [fieldName, file] of Object.entries(uploadedFiles)) {
            if (file) {
              textData[fieldName] = await fileToBase64(file);
            } else if (fieldName === (currentLanguage === 'ar' ? 'Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©' : 'Additional Documents')) {
              // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±ÙŠ ÙØ§Ø±ØºØ§Ù‹ØŒ Ù†Ø±Ø³Ù„ Ø³Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©
              textData[fieldName] = "";
            }
          }
          
          // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          const response = await fetch(scriptURL, {
            method: 'POST',
            body: createFormData(textData)
          });
          
          // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø¯
          const result = await response.json();
          
          // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¥Ø°Ø§ ÙˆØµÙ„Ù†Ø§ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø©
          showSuccessMessage();
          
        } catch (error) {
          console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:', error);
          // Ø­ØªÙ‰ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ØŒ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ù„Ø£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºØ§Ù„Ø¨Ø§Ù‹ ØªÙ… Ø­ÙØ¸Ù‡Ø§
          showSuccessMessage();
        }
      });
    }
    
    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ Base64
    function fileToBase64(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result.split(',')[1]);
        reader.onerror = error => reject(error);
      });
    }
    
    // Ø¥Ù†Ø´Ø§Ø¡ FormData Ù„Ù„Ø¥Ø±Ø³Ø§Ù„
    function createFormData(data) {
      const formData = new FormData();
      for (const key in data) {
        formData.append(key, data[key]);
      }
      return formData;
    }
    
    // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
    function showSuccessMessage() {
      const successAlert = document.getElementById('successAlert');
      const submitBtn = document.getElementById('submitBtn');
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±
      submitBtn.disabled = false;
      submitBtn.innerHTML = currentLanguage === 'ar' ? 
        '<i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨' : 
        '<i class="fas fa-paper-plane"></i> Submit Account Opening Request';
      isSubmitting = false;
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
      successAlert.classList.remove('d-none');
      document.getElementById('mainForm').classList.add('d-none');
      
      // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¸Ø§Ù‡Ø±Ø©
      document.getElementById('errorAlert').classList.add('d-none');
      
      // Ø¨Ø¯Ø¡ Ù…Ø¤Ù‚Øª Ø§Ù„Ù…Ø³Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†
      startAutoResetTimer();
    }
    
    // Ø¨Ø¯Ø¡ Ù…Ø¤Ù‚Øª Ø§Ù„Ù…Ø³Ø­ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    function startAutoResetTimer() {
      let seconds = 10;
      const noteElement = document.getElementById('autoResetNote');
      
      if (autoResetTimer) clearInterval(autoResetTimer);
      
      autoResetTimer = setInterval(() => {
        seconds--;
        if (noteElement) {
          noteElement.textContent = currentLanguage === 'ar' ? 
            `Ø³ÙŠØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø®Ù„Ø§Ù„ ${seconds} Ø«ÙˆØ§Ù†Ù.` :
            `The form will be cleared automatically in ${seconds} seconds.`;
        }
        
        if (seconds <= 0) {
          clearInterval(autoResetTimer);
          resetForm();
        }
      }, 1000);
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    function resetForm() {
      // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
      if (autoResetTimer) {
        clearInterval(autoResetTimer);
        autoResetTimer = null;
      }
      
      document.getElementById('mainForm').reset();
      document.getElementById('mainForm').classList.remove('d-none');
      document.getElementById('successAlert').classList.add('d-none');
      document.getElementById('errorAlert').classList.add('d-none');
      
      // Ù…Ø³Ø­ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„ÙØ§Øª
      document.getElementById('taxFileInfo').innerHTML = '';
      document.getElementById('commercialFileInfo').innerHTML = '';
      document.getElementById('idFileInfo').innerHTML = '';
      document.getElementById('otherFileInfo').innerHTML = '';
      uploadedFiles = {};
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©
      document.querySelector('input[name="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ / Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"]').value = "Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±";
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
      selectedBranches = [];
      updateBranchesButtons();
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = false;
      submitBtn.innerHTML = currentLanguage === 'ar' ? 
        '<i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨' : 
        '<i class="fas fa-paper-plane"></i> Submit Account Opening Request';
      isSubmitting = false;
      
      // Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
      Swal.fire({
        icon: 'success',
        title: currentLanguage === 'ar' ? 'ØªÙ… Ø§Ù„Ù…Ø³Ø­' : 'Cleared',
        text: currentLanguage === 'ar' ? 'ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­' : 'Form has been cleared successfully',
        timer: 1500,
        showConfirmButton: false,
        background: 'var(--light-bg)',
        color: 'var(--secondary-color)'
      });
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
    function retrySubmit() {
      document.getElementById('errorAlert').classList.add('d-none');
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = false;
      submitBtn.innerHTML = currentLanguage === 'ar' ? 
        '<i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ ÙØªØ­ Ø§Ù„Ø­Ø³Ø§Ø¨' : 
        '<i class="fas fa-paper-plane"></i> Submit Account Opening Request';
      isSubmitting = false;
    }
    
    // Ø¯Ø§Ù„Ø© Ù„Ù…Ù„Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ© (Ù„Ù„ØªØ¬Ø±ÙŠØ¨)
    window.fillTestData = function() {
      document.querySelector('input[name="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ / Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"]').value = "Ø´Ø±ÙƒØ© Ù…Ø³Ø§Ø± Ø§Ù„Ø¥Ø¹Ù…Ø§Ø±";
      document.querySelector('input[name="Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ"]').value = "1234567890";
      document.querySelector('input[name="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"]').value = "ÙŠÙ†Ø¨Ø¹";
      document.querySelector('input[name="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"]').value = "Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ - Ù…Ø¨Ù†Ù‰ Ø±Ù‚Ù… Ù¡Ù¢";
      document.querySelector('input[name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"]').value = "0133212345";
      document.querySelector('input[name="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†ÙŠ"]').value = "50000";
      document.querySelector('select[name="ÙØªØ±Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯"]').value = "30 ÙŠÙˆÙ…";
      document.querySelector('input[name="Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„"]').value = "Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ";
      document.querySelector('input[name="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©"]').value = "Ø³Ø¹ÙˆØ¯ÙŠ";
      document.querySelector('input[name="Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø§Ù‚Ø§Ù…Ø©"]').value = "1234567890";
      document.querySelector('input[name="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„"]').value = "0551234567";
      
      // Ø§Ø®ØªÙŠØ§Ø± ÙØ±ÙˆØ¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
      const branches = branchesData[currentLanguage];
      selectedBranches = [branches[0], branches[1]]; // Ø§Ø®ØªÙŠØ§Ø± Ø£ÙˆÙ„ ÙØ±Ø¹ÙŠÙ†
      updateBranchesButtons();
      
      Swal.fire({
        title: currentLanguage === 'ar' ? 'ØªÙ…' : 'Done',
        text: currentLanguage === 'ar' ? 'ØªÙ… ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø®ØªØ¨Ø§Ø±ÙŠØ©' : 'Test data has been filled',
        icon: 'success',
        timer: 1500,
        showConfirmButton: false,
        background: 'var(--light-bg)',
        color: 'var(--secondary-color)'
      });
    };
  </script>
</body>
</html>